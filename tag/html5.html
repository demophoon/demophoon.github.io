<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Fro Maintenance - Html5</title>
        <link rel="stylesheet" href="https://demophoon.github.io/theme/css/main.css" />
        <link href="https://demophoon.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Fro Maintenance Atom Feed" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://demophoon.github.io/">Fro Maintenance </a></h1>
                <nav><ul>
                    <li><a href="https://demophoon.github.io/category/blog.html">Blog</a></li>
                    <li><a href="https://demophoon.github.io/category/change-log.html">Change Log</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="https://demophoon.github.io/behind-mmr-canvas.html">Behind the Canvas in Music Music Revolution</a></h1>
<footer class="post-info">
        <abbr class="published" title="2012-09-16T20:53:00-06:00">
                Published: Sun 16 September 2012
        </abbr>
		<br />
        <abbr class="modified" title="2015-01-29T21:01:00-08:00">
                Updated: Thu 29 January 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://demophoon.github.io/author/britt-gresham.html">Britt Gresham</a>
        </address>
<p>In <a href="https://demophoon.github.io/category/blog.html">Blog</a>. </p>
<p>tags: <a href="https://demophoon.github.io/tag/technology.html">Technology</a> <a href="https://demophoon.github.io/tag/html5.html">Html5</a> <a href="https://demophoon.github.io/tag/games.html">Games</a> <a href="https://demophoon.github.io/tag/web-audio-api.html">Web Audio Api</a> <a href="https://demophoon.github.io/tag/javascript.html">Javascript</a> <a href="https://demophoon.github.io/tag/canvas.html">Canvas</a> </p>
</footer><!-- /.post-info --><p>Last week I wrote about how the I was able to use the Web Audio API in my game
Music Music Revolution. This week I am going to tie it all back into creating
the visuals for the game and the troubles I ran into with that.</p>
<p>Lets start by defining the Canvas element for anyone who has not had experience
with it. The canvas is exactly what it sounds like. It is a blank canvas that
you can paint onto with any colors, brushes, or pictures you desire. They can
be represented in either a 2D space or a 3D space with WebGL. To create the
canvas you simply create an empty canvas tag and then select it using
javascript.</p>
<div class="highlight"><pre>document.getElementById(&quot;canvas&quot;); var ctx = canvas.getContext(&quot;2d&quot;);
<span class="nt">&lt;/script&gt;</span>

<span class="nt">&lt;canvas</span> <span class="na">id=</span><span class="s">&quot;canvas&quot;</span><span class="nt">&gt;&lt;/canvas&gt;</span>
</pre></div>


<p>Now that we have the 2d context of the canvas element stored in the ctx
variable we can now start painting the canvas with what we want. I started off
by placing a background picture onto the canvas that I had created in
Photoshop. Then overlaying some text about the game such as version number. I
took the waveforms that were created from the second Web Audio Analyzer node
and draw the waveform onto the canvas. I place a semi-transparent black box
over the play field to separate the background animations from the actual
gameplay to make it less distracting to the player. I place the yellow hit
boxes and that is basically everything that will always be there.</p>
<p>The first audio analyzer sends me the beats a second before the user hears them
so I can calculate the distance I need to have each beat travel from its origin
to the final destination point at the yellow hit box. Now I had first just
calculated each movement with frames. I figured if I traveled 5 pixel downward
for each frame I drew then the beat would hit exactly 300 pixels from the
origin point if drawn at 60 frames per second. This method is horribly
ineffective because some frames may take longer to render than others and would
cause the beat to fall anywhere from 5-30 frames off and the latency is
definitely noticeable when you try to compete with the natural beat detection
that the brain is capable of. I ended up changing the method up to give me the
precise second that the beat would occur after the start of the song. I was
able to calculate where the beat needed to be at any given moment. and draw it
there whenever the draw() method was called. Other than that the visuals were
pretty easy to create, I still want to do more than just the simple waveform in
the background. I have another project that I had worked on a really long time
ago that I will probably do some code reuse and implement the visual effects I
had created for my web-based iTunes remote controller.</p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="https://demophoon.github.io/behind-mmr.html" rel="bookmark"
                           title="Permalink to Behind the Audio in Music Music Revolution">Behind the Audio in Music Music Revolution</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-09-06T20:53:00-06:00">
                Published: Thu 06 September 2012
        </abbr>
		<br />
        <abbr class="modified" title="2015-01-29T20:34:00-08:00">
                Updated: Thu 29 January 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://demophoon.github.io/author/britt-gresham.html">Britt Gresham</a>
        </address>
<p>In <a href="https://demophoon.github.io/category/blog.html">Blog</a>. </p>
<p>tags: <a href="https://demophoon.github.io/tag/technology.html">Technology</a> <a href="https://demophoon.github.io/tag/html5.html">Html5</a> <a href="https://demophoon.github.io/tag/games.html">Games</a> <a href="https://demophoon.github.io/tag/web-audio-api.html">Web Audio Api</a> <a href="https://demophoon.github.io/tag/javascript.html">Javascript</a> </p>
</footer><!-- /.post-info -->                <p>I spent a large majority of last week working on a project I called 'Music
Music Revolution' based off of the popular '<a href="http://en.wikipedia.org/wiki/Dance_Dance_Revolution">Dance Dance
Revolution</a>' and inspired
by <a href="http://en.wikipedia.org/wiki/Beats_(video_game)">Beats</a> for Sonys PSP. I
had always wanted to play a game similar to these two games except, it had to
be ...</p>
                <a class="readmore" href="https://demophoon.github.io/behind-mmr.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
<p class="paginator">
    Page 1 / 1
</p>
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://www.brittg.com/">Homepage</a></li>
                            <li><a href="http://demophoon.github.io/">Blog</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://demophoon.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://github.com/demophoon">Github</a></li>
                            <li><a href="https://brittg.com/linkedin">LinkedIn</a></li>
                            <li><a href="https://twitter.com/demophoon">Twitter</a></li>
                            <li><a href="http://www.last.fm/user/demophoon">Last.fm</a></li>
                            <li><a href="#">Freenode: demophoon</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34543516-4']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</body>
</html>